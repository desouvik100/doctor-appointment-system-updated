<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#0d6efd" />
  <meta name="color-scheme" content="light dark" />
  <meta name="description" content="HealthSync AI - Advanced Healthcare Management System" />
  <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <title>HealthSync AI - Healthcare Management</title>

  <!-- Critical CSS - ANTI-FLICKER OPTIMIZED -->
  <style>
    /* Prevent any flickering on page load */
    html {
      margin: 0;
      padding: 0;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
      background-attachment: fixed !important;
      min-height: 100vh;
      transition: none !important;
      /* Prevent white flash */
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    
    body {
      margin: 0;
      padding: 0;
      background: transparent !important;
      min-height: 100vh;
      transition: none !important;
      /* Prevent layout shift */
      overflow-x: hidden;
    }
    
    #root {
      min-height: 100vh;
      background: transparent !important;
      transition: none !important;
      /* Prevent content flash */
      opacity: 1;
    }
    
    /* Force all containers transparent - NO FLICKER */
    .App,
    .medical-bg,
    .dark-theme,
    section,
    main,
    div[class*="container"] {
      background: transparent !important;
    }
    
    /* Dark mode override - INSTANT */
    html[data-theme="dark"] {
      background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%) !important;
      background-attachment: fixed !important;
    }
    
    /* Prevent animation flicker on load */
    .fade-in-up,
    .premium-title,
    .premium-subtitle,
    .hero-stats,
    .hero-actions,
    .trust-indicators {
      animation-fill-mode: both !important;
    }
    
    /* Hide content until loaded to prevent flicker */
    html:not(.loaded) .fade-in-up {
      opacity: 0 !important;
      visibility: hidden !important;
    }
    
    html.loaded .fade-in-up {
      opacity: 1 !important;
      visibility: visible !important;
    }
  </style>
  
  <!-- ANTI-FLICKER: Instant theme application -->
  <script>
    (function() {
      // Get saved theme immediately - BEFORE any rendering
      var savedTheme = localStorage.getItem('darkMode');
      var theme = savedTheme === 'true' ? 'dark' : 'light';
      
      // Apply theme attribute INSTANTLY
      document.documentElement.setAttribute('data-theme', theme);
      document.documentElement.classList.add('loading');
      
      // Apply gradient immediately - NO FLICKER
      var applyGradient = function() {
        var currentTheme = document.documentElement.getAttribute('data-theme') || 'light';
        var gradient = currentTheme === 'dark' 
          ? 'linear-gradient(135deg, #1e293b 0%, #0f172a 100%)'
          : 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
        
        // Apply styles without transition to prevent flicker
        document.documentElement.style.cssText = 'background: ' + gradient + ' !important; background-attachment: fixed !important; min-height: 100vh; transition: none !important; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;';
        document.body.style.cssText = 'background: transparent !important; margin: 0; padding: 0; min-height: 100vh; transition: none !important; overflow-x: hidden;';
      };
      
      applyGradient();
      
      // Mark as loaded after a brief delay to prevent animation flicker
      setTimeout(function() {
        document.documentElement.classList.remove('loading');
        document.documentElement.classList.add('loaded');
      }, 50);
      
      // Watch for theme changes - NO FLICKER
      var observer = new MutationObserver(function(mutations) {
        mutations.forEach(function(mutation) {
          if (mutation.attributeName === 'data-theme') {
            applyGradient();
          }
        });
      });
      
      observer.observe(document.documentElement, { attributes: true });
    })();
  </script>
</head>

<body>
  <noscript>You need to enable JavaScript to run this app.</noscript>
  <div id="root"></div>
</body>

</html>