<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#0d6efd" />
  <meta name="color-scheme" content="light dark" />
  <meta name="description" content="HealthSync AI - Advanced Healthcare Management System" />
  <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <title>HealthSync AI - Healthcare Management</title>

  <!-- Critical CSS - OPTIMIZED for Performance -->
  <style>
    /* OPTIMIZED: Removed background-attachment: fixed - causes expensive repaints */
    html {
      margin: 0;
      padding: 0;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
      min-height: 100vh;
      transition: none !important;
    }
    
    body {
      margin: 0;
      padding: 0;
      background: transparent !important;
      min-height: 100vh;
      transition: none !important;
    }
    
    #root {
      min-height: 100vh;
      background: transparent !important;
      transition: none !important;
    }
    
    /* Force all containers transparent */
    .App,
    .medical-bg,
    .dark-theme,
    section,
    main,
    div[class*="container"] {
      background: transparent !important;
    }
    
    /* Dark mode override */
    html[data-theme="dark"] {
      background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%) !important;
    }
    
    /* OPTIMIZED: Use absolute positioning instead of fixed for better performance */
    body::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      z-index: -1;
      pointer-events: none;
    }
    
    html[data-theme="dark"] body::before {
      background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
    }
  </style>
  
  <!-- Instant theme application - NO FLASH -->
  <script>
    (function() {
      // Get saved theme immediately
      var savedTheme = localStorage.getItem('darkMode');
      var theme = savedTheme === 'true' ? 'dark' : 'light';
      
      // Apply theme attribute BEFORE any rendering
      document.documentElement.setAttribute('data-theme', theme);
      
      // Apply gradient immediately
      var applyGradient = function() {
        var currentTheme = document.documentElement.getAttribute('data-theme') || 'light';
        var gradient = currentTheme === 'dark' 
          ? 'linear-gradient(135deg, #1e293b 0%, #0f172a 100%)'
          : 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)';
        
        document.documentElement.style.cssText = 'background: ' + gradient + ' !important; background-attachment: fixed !important; min-height: 100vh; transition: none !important;';
        document.body.style.cssText = 'background: transparent !important; margin: 0; padding: 0; min-height: 100vh; transition: none !important;';
      };
      
      applyGradient();
      
      // Watch for theme changes
      var observer = new MutationObserver(function(mutations) {
        mutations.forEach(function(mutation) {
          if (mutation.attributeName === 'data-theme') {
            applyGradient();
          }
        });
      });
      
      observer.observe(document.documentElement, { attributes: true });
    })();
  </script>
</head>

<body>
  <noscript>You need to enable JavaScript to run this app.</noscript>
  <div id="root"></div>
</body>

</html>