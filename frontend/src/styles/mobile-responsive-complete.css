/* ========================================
   COMPLETE MOBILE RESPONSIVE DESIGN
   Fully responsive for phones (max-width: 768px)
   Desktop design remains intact
   ======================================== */

/* ========================================
   BASE RESPONSIVE SETTINGS
   ======================================== */

/* Ensure proper viewport scaling */
html {
  -webkit-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%;
  text-size-adjust: 100%;
}

/* Prevent horizontal scroll */
body {
  overflow-x: hidden !important;
  width: 100% !important;
  max-width: 100vw !important;
}

/* All containers should not overflow */
* {
  box-sizing: border-box !important;
}

/* Images scale proportionally */
img {
  max-width: 100% !important;
  height: auto !important;
  display: block !important;
}

/* ========================================
   TABLET BREAKPOINT (768px - 991px)
   ======================================== */

@media (max-width: 991px) {
  /* Container adjustments */
  .container {
    max-width: 100% !important;
    padding-left: 1rem !important;
    padding-right: 1rem !important;
  }

  /* Typography scaling */
  h1 {
    font-size: 2rem !important;
  }

  h2 {
    font-size: 1.75rem !important;
  }

  h3 {
    font-size: 1.5rem !important;
  }

  h4 {
    font-size: 1.25rem !important;
  }

  h5 {
    font-size: 1.125rem !important;
  }

  h6 {
    font-size: 1rem !important;
  }

  p, body {
    font-size: 1rem !important;
    line-height: 1.6 !important;
  }

  /* Button sizing */
  .btn, button {
    min-height: 44px !important;
    padding: 0.75rem 1.5rem !important;
    font-size: 1rem !important;
  }

  /* Card adjustments */
  .card, .medical-card {
    margin-bottom: 1rem !important;
  }

  /* Grid to single column */
  .row {
    margin-left: 0 !important;
    margin-right: 0 !important;
  }

  .col, [class*="col-"] {
    padding-left: 0.5rem !important;
    padding-right: 0.5rem !important;
  }
}

/* ========================================
   MOBILE BREAKPOINT (max-width: 768px)
   ======================================== */

@media (max-width: 768px) {
  /* ===== LAYOUT ===== */
  
  /* Full width containers */
  .container,
  .container-fluid {
    max-width: 100% !important;
    padding-left: 1rem !important;
    padding-right: 1rem !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
  }

  /* Stack all columns vertically */
  .row {
    flex-direction: column !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
  }

  .col,
  [class*="col-"] {
    width: 100% !important;
    max-width: 100% !important;
    flex: 0 0 100% !important;
    padding-left: 0.75rem !important;
    padding-right: 0.75rem !important;
    margin-bottom: 1rem !important;
  }

  /* ===== TYPOGRAPHY ===== */
  
  h1 {
    font-size: 1.75rem !important;
    line-height: 1.3 !important;
    margin-bottom: 1rem !important;
  }

  h2 {
    font-size: 1.5rem !important;
    line-height: 1.3 !important;
    margin-bottom: 0.875rem !important;
  }

  h3 {
    font-size: 1.25rem !important;
    line-height: 1.4 !important;
    margin-bottom: 0.75rem !important;
  }

  h4 {
    font-size: 1.125rem !important;
    line-height: 1.4 !important;
    margin-bottom: 0.625rem !important;
  }

  h5, h6 {
    font-size: 1rem !important;
    line-height: 1.5 !important;
    margin-bottom: 0.5rem !important;
  }

  p {
    font-size: 0.95rem !important;
    line-height: 1.6 !important;
    margin-bottom: 1rem !important;
  }

  /* ===== BUTTONS ===== */
  
  .btn,
  button,
  input[type="submit"],
  input[type="button"] {
    width: 100% !important;
    min-height: 48px !important;
    padding: 0.875rem 1.25rem !important;
    font-size: 1rem !important;
    margin-bottom: 0.75rem !important;
    border-radius: 8px !important;
    touch-action: manipulation !important;
  }

  /* Button groups stack vertically */
  .btn-group {
    flex-direction: column !important;
    width: 100% !important;
  }

  .btn-group .btn {
    width: 100% !important;
    margin-bottom: 0.5rem !important;
  }

  /* ===== FORMS ===== */
  
  .form-control,
  input,
  textarea,
  select {
    width: 100% !important;
    min-height: 48px !important;
    padding: 0.875rem 1rem !important;
    font-size: 1rem !important;
    border-radius: 8px !important;
    margin-bottom: 1rem !important;
  }

  textarea {
    min-height: 120px !important;
  }

  label {
    font-size: 0.95rem !important;
    margin-bottom: 0.5rem !important;
    display: block !important;
  }

  .form-group {
    margin-bottom: 1.25rem !important;
  }

  /* ===== CARDS ===== */
  
  .card,
  .medical-card {
    margin-bottom: 1rem !important;
    border-radius: 12px !important;
  }

  .card-body {
    padding: 1.25rem !important;
  }

  .card-header {
    padding: 1rem 1.25rem !important;
    font-size: 1.125rem !important;
  }

  .card-footer {
    padding: 1rem 1.25rem !important;
  }

  /* ===== TABLES ===== */
  
  /* Make tables scrollable */
  .table-responsive {
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch !important;
    display: block !important;
    width: 100% !important;
  }

  table {
    width: 100% !important;
    font-size: 0.875rem !important;
  }

  th, td {
    padding: 0.75rem 0.5rem !important;
    white-space: nowrap !important;
  }

  /* Stack table on very small screens */
  @media (max-width: 576px) {
    table, thead, tbody, th, td, tr {
      display: block !important;
    }

    thead tr {
      position: absolute !important;
      top: -9999px !important;
      left: -9999px !important;
    }

    tr {
      margin-bottom: 1rem !important;
      border: 1px solid #ddd !important;
      border-radius: 8px !important;
      padding: 0.5rem !important;
    }

    td {
      border: none !important;
      position: relative !important;
      padding-left: 50% !important;
      white-space: normal !important;
    }

    td:before {
      content: attr(data-label) !important;
      position: absolute !important;
      left: 0.5rem !important;
      width: 45% !important;
      padding-right: 0.5rem !important;
      white-space: nowrap !important;
      font-weight: 600 !important;
    }
  }

  /* ===== MODALS ===== */
  
  .modal-dialog {
    margin: 0.5rem !important;
    max-width: calc(100% - 1rem) !important;
  }

  .modal-content {
    border-radius: 12px !important;
  }

  .modal-header {
    padding: 1rem 1.25rem !important;
  }

  .modal-body {
    padding: 1.25rem !important;
    max-height: calc(100vh - 200px) !important;
    overflow-y: auto !important;
  }

  .modal-footer {
    padding: 1rem 1.25rem !important;
    flex-direction: column !important;
  }

  .modal-footer .btn {
    width: 100% !important;
    margin: 0.25rem 0 !important;
  }

  /* ===== NAVIGATION ===== */
  
  /* Navbar already handled in professional-navbar.css */
  
  /* Tabs stack vertically */
  .nav-tabs,
  .nav-pills {
    flex-direction: column !important;
    border-bottom: none !important;
  }

  .nav-tabs .nav-link,
  .nav-pills .nav-link {
    width: 100% !important;
    text-align: left !important;
    margin-bottom: 0.5rem !important;
    border-radius: 8px !important;
  }

  /* ===== HERO SECTIONS ===== */
  
  .hero,
  .jumbotron,
  [class*="hero"] {
    padding: 2rem 1rem !important;
    min-height: auto !important;
  }

  .hero h1,
  .jumbotron h1 {
    font-size: 1.75rem !important;
  }

  .hero p,
  .jumbotron p {
    font-size: 1rem !important;
  }

  /* ===== FEATURE SECTIONS ===== */
  
  .feature-card,
  .feature-box,
  [class*="feature"] {
    margin-bottom: 1.5rem !important;
    padding: 1.5rem !important;
  }

  .feature-icon {
    font-size: 2.5rem !important;
    margin-bottom: 1rem !important;
  }

  /* ===== IMAGES & MEDIA ===== */
  
  img,
  video,
  iframe {
    max-width: 100% !important;
    height: auto !important;
    border-radius: 8px !important;
  }

  /* Avatar sizes */
  .avatar,
  .profile-pic {
    width: 80px !important;
    height: 80px !important;
  }

  /* ===== SPACING ===== */
  
  /* Reduce padding for mobile */
  .p-5 {
    padding: 2rem !important;
  }

  .p-4 {
    padding: 1.5rem !important;
  }

  .p-3 {
    padding: 1rem !important;
  }

  .py-5 {
    padding-top: 2rem !important;
    padding-bottom: 2rem !important;
  }

  .py-4 {
    padding-top: 1.5rem !important;
    padding-bottom: 1.5rem !important;
  }

  .my-5 {
    margin-top: 2rem !important;
    margin-bottom: 2rem !important;
  }

  .my-4 {
    margin-top: 1.5rem !important;
    margin-bottom: 1.5rem !important;
  }

  /* ===== FLEXBOX ADJUSTMENTS ===== */
  
  .d-flex {
    flex-direction: column !important;
  }

  .d-flex.flex-row-mobile {
    flex-direction: row !important;
  }

  .justify-content-between,
  .justify-content-around,
  .justify-content-evenly {
    justify-content: center !important;
  }

  /* ===== ALERTS & NOTIFICATIONS ===== */
  
  .alert {
    padding: 1rem !important;
    font-size: 0.95rem !important;
    border-radius: 8px !important;
    margin-bottom: 1rem !important;
  }

  .toast {
    max-width: calc(100% - 2rem) !important;
    margin: 1rem !important;
  }

  /* ===== BADGES & PILLS ===== */
  
  .badge {
    font-size: 0.875rem !important;
    padding: 0.375rem 0.75rem !important;
  }

  /* ===== BREADCRUMBS ===== */
  
  .breadcrumb {
    font-size: 0.875rem !important;
    padding: 0.75rem 1rem !important;
    flex-wrap: wrap !important;
  }

  /* ===== PAGINATION ===== */
  
  .pagination {
    flex-wrap: wrap !important;
    justify-content: center !important;
  }

  .page-link {
    padding: 0.5rem 0.75rem !important;
    font-size: 0.95rem !important;
  }

  /* ===== DROPDOWNS ===== */
  
  .dropdown-menu {
    width: 100% !important;
    max-width: 100% !important;
    border-radius: 8px !important;
  }

  .dropdown-item {
    padding: 0.75rem 1rem !important;
    font-size: 1rem !important;
  }

  /* ===== PROGRESS BARS ===== */
  
  .progress {
    height: 1.5rem !important;
    font-size: 0.875rem !important;
    border-radius: 8px !important;
  }

  /* ===== LIST GROUPS ===== */
  
  .list-group-item {
    padding: 1rem !important;
    font-size: 0.95rem !important;
  }

  /* ===== ACCORDIONS ===== */
  
  .accordion-button {
    padding: 1rem !important;
    font-size: 1rem !important;
  }

  .accordion-body {
    padding: 1rem !important;
  }

  /* ===== TOOLTIPS & POPOVERS ===== */
  
  .tooltip {
    font-size: 0.875rem !important;
  }

  .popover {
    max-width: calc(100% - 2rem) !important;
    font-size: 0.95rem !important;
  }
}

/* ========================================
   SMALL MOBILE (max-width: 576px)
   ======================================== */

@media (max-width: 576px) {
  /* Even more compact spacing */
  .container {
    padding-left: 0.75rem !important;
    padding-right: 0.75rem !important;
  }

  h1 {
    font-size: 1.5rem !important;
  }

  h2 {
    font-size: 1.35rem !important;
  }

  h3 {
    font-size: 1.2rem !important;
  }

  p {
    font-size: 0.9rem !important;
  }

  .btn {
    padding: 0.75rem 1rem !important;
    font-size: 0.95rem !important;
  }

  .card-body {
    padding: 1rem !important;
  }

  /* Smaller icons */
  .feature-icon,
  i.fa-3x,
  i.fa-2x {
    font-size: 2rem !important;
  }

  /* Compact forms */
  .form-control {
    padding: 0.75rem 0.875rem !important;
    font-size: 0.95rem !important;
  }
}

/* ========================================
   LANDSCAPE MOBILE (max-height: 500px)
   ======================================== */

@media (max-height: 500px) and (orientation: landscape) {
  /* Reduce vertical spacing in landscape */
  .py-5 {
    padding-top: 1rem !important;
    padding-bottom: 1rem !important;
  }

  .my-5 {
    margin-top: 1rem !important;
    margin-bottom: 1rem !important;
  }

  .modal-body {
    max-height: 60vh !important;
  }
}

/* ========================================
   TOUCH OPTIMIZATIONS
   ======================================== */

@media (hover: none) and (pointer: coarse) {
  /* Touch-friendly sizing */
  a,
  button,
  .btn,
  input,
  select,
  textarea {
    min-height: 44px !important;
    min-width: 44px !important;
  }

  /* Larger tap targets */
  .nav-link,
  .dropdown-item,
  .list-group-item {
    min-height: 48px !important;
    display: flex !important;
    align-items: center !important;
  }

  /* Remove hover effects on touch devices */
  *:hover {
    transition: none !important;
  }

  /* Better touch feedback */
  button:active,
  .btn:active,
  a:active {
    transform: scale(0.98) !important;
    opacity: 0.9 !important;
  }
}

/* ========================================
   ACCESSIBILITY IMPROVEMENTS
   ======================================== */

@media (max-width: 768px) {
  /* Larger focus indicators */
  *:focus,
  *:focus-visible {
    outline: 3px solid #667eea !important;
    outline-offset: 2px !important;
  }

  /* Better contrast for small screens */
  body {
    -webkit-font-smoothing: antialiased !important;
    -moz-osx-font-smoothing: grayscale !important;
  }

  /* Ensure text is readable */
  p, li, span, div {
    color: inherit !important;
    opacity: 1 !important;
  }
}

/* ========================================
   PREVENT COMMON MOBILE ISSUES
   ======================================== */

@media (max-width: 768px) {
  /* Prevent zoom on input focus (iOS) */
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="number"],
  input[type="tel"],
  textarea,
  select {
    font-size: 16px !important;
  }

  /* Prevent horizontal scroll */
  body,
  html {
    overflow-x: hidden !important;
    max-width: 100vw !important;
  }

  /* Fix for iOS Safari bottom bar */
  .min-vh-100 {
    min-height: -webkit-fill-available !important;
  }

  /* Smooth scrolling */
  * {
    -webkit-overflow-scrolling: touch !important;
  }

  /* Prevent text selection issues */
  * {
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0.1) !important;
  }
}

/* ========================================
   PRINT STYLES (Bonus)
   ======================================== */

@media print {
  /* Hide unnecessary elements */
  nav,
  .navbar,
  .btn,
  button,
  .modal,
  .toast,
  .alert {
    display: none !important;
  }

  /* Optimize for printing */
  body {
    font-size: 12pt !important;
    color: #000 !important;
    background: #fff !important;
  }

  a {
    text-decoration: underline !important;
  }

  /* Page breaks */
  h1, h2, h3 {
    page-break-after: avoid !important;
  }

  img {
    max-width: 100% !important;
    page-break-inside: avoid !important;
  }
}
